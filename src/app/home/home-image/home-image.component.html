<app-loading *ngIf="loading"></app-loading>
  <ng-template [ngIf]="utils.isLoaded(loading)" >
  <div (mouseenter)="showImageDetail(true)" (mouseleave)="showImageDetail(false)">
   <a [routerLink]="['/images', image._id]" (click)="accessImage$()" >
    <cl-image *ngIf="image.link"
        public-id={{image.link}}
        class="card-img-top img-fluid"
        title="{{ image.title }}"
        (mouseenter)="image.isMouseOver = false"
        (mouseleave)="image.isMouseOver = true"
        [attr.opacity]="image.isMouseOver ? '60' : null">
            <cl-transformation width="800" crop="scale"></cl-transformation>
    </cl-image>
</a>
<div class="card-body bg-light row" *ngIf="!detail||!auth.loggedIn">&nbsp;</div>
<div class="card-body bg-light row" *ngIf="detail&&auth.loggedIn">
    <div class="text-left col" *ngIf="imageuser.screenName"><a [routerLink]="['/users', imageuser._id]">by {{imageuser.screenName}}</a></div>
    <div class="text-right col" *ngIf="liked&&auth.loggedIn">
        <span class="badge badge-pill badge-danger" (click)="unlikeImage$()">{{image.likes}}</span>
<!--        <button class="btn btn-outline-danger btn-sm" (click)="unlikeImage$()">{{image.likes}}</button>-->
    </div>
    <div class="text-right col" *ngIf="!liked&&auth.loggedIn">
        <span class="badge badge-pill badge-secondary" (click)="likeImage$()">{{image.likes}}</span>
<!--        <button class="btn btn-outline-secondary btn-sm" (click)="likeImage$()">{{image.likes}}</button>-->
    </div>
</div>
</div>
</ng-template>
