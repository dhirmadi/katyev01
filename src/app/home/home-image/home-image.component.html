<app-loading *ngIf="loading"></app-loading>
  <ng-template [ngIf]="utils.isLoaded(loading)" >
  <div (mouseenter)="showImageDetail(true)" (mouseleave)="showImageDetail(false)">
   <a [routerLink]="['/images', image._id]" (click)="accessImage$()" >
    <cl-image *ngIf="image.link"
        public-id={{image.link}}
        class="card-img-top img-fluid"
        title="{{ image.title }}"
        (mouseenter)="image.isMouseOver = false"
        (mouseleave)="image.isMouseOver = true"
        [attr.opacity]="image.isMouseOver ? '60' : null">
            <cl-transformation width="800" crop="scale"></cl-transformation>
    </cl-image>
</a>
<div class="card-body bg-light row" *ngIf="detail">
    <div class="text-left col" *ngIf="imageuser.screenName">by {{imageuser.screenName}}</div>
    <div class="text-right col" *ngIf="liked&&auth.loggedIn"><a (click)="unlikeImage$()">Unlike</a></div>
    <div class="text-right col" *ngIf="!liked&&auth.loggedIn"><a (click)="likeImage$()">Like</a></div>
</div>
</div>
</ng-template>
